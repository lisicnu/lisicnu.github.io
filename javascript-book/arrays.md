
## 数组简介

数组（Array）是属于**内置对象**，数组和普通对象的功能类似，都可以用来存储一些值。不同的是：

- 普通对象是使用字符串作为属性名，而数组是使用数字作为**索引**来操作元素。
- 索引：从 0 开始的整数就是索引。

## 创建数组对象

举例：

```javascript
let arr1 = []; // 创建一个空的数组
let arr2 = [1, 2, 3]; // 创建带初始值的数组
```

### 使用构造函数创建数组

语法：

```js
let arr = new Array(参数);
let arr = Array(参数);
```

**试试 `无参数`，`一个参数`，`两个参数`时各是代表什么含义**


### 数组中的元素的类型

数组中可以存放**任意类型**的数据，例如字符串、数字、布尔值、对象、方法等。

比如：

```javascript
const arr = ['Ethan', 28, true, { name: 'Ethan' }];
```

我们甚至可以在数组里存放数组。比如：

```js
const arr2 = [
    [11, 12, 13],
    [21, 22, 23],
];
```

## 数组的基本操作

### 数组的索引

**索引** (下标) ：用来访问数组元素的序号，代表的是数组中的元素在数组中的位置（下标从 0 开始算起）。

数组可以通过索引来访问、修改对应的数组元素。

### 向数组中添加元素

语法：

```javascript
数组[索引] = 值;
```

代码举例：

```javascript
const arr = [];

// 向数组中添加元素
arr[0] = 1;
arr[1] = 2;
arr[2] = 3;
arr[3] = 4;
arr[5] = 5;

console.log(JSON.stringify(arr));
```

打印结果：

```
[1,2,3,4,null,5]
```

### 获取数组中的元素

语法：

```javascript
数组[索引];
```

如果读取不存在的索引（比如元素没那么多），系统不会报错，而是返回 `undefined`。

代码举例：

```javascript
const arr = [21, 22, 23];

console.log(arr[0]); // 打印结果：21
console.log(arr[5]); // 打印结果：undefined
```

### 获取数组的长度

可以使用`length`属性来获取数组的长度(即“元素的个数”)。

数组的长度是指元素个数。

语法：

```javascript
数组的长度 = 数组名.length；
```

代码举例：

```javascript
const arr = [21, 22, 23];

console.log(arr.length); // 打印结果：3
```

补充：
此处我们将的数组都是连续的数组（也是日常使用最多的）。（稀疏数组不在此内）。


### 修改数组的长度

可以通过修改length属性修改数组的长度。

-   如果修改的 length 大于原长度，则多出部分会空出来，置为 null。
-   如果修改的 length 小于原长度，则多出的元素会被删除，数组将从后面删除元素。

代码举例：

```javascript
const arr1 = [11, 12, 13];
const arr2 = [21, 22, 23];

// 修改数组 arr1 的 length
arr1.length = 1;
console.log(JSON.stringify(arr1));

// 修改数组 arr2 的 length
arr2.length = 5;
console.log(JSON.stringify(arr2));
```

打印结果：

```javascript
[11]
[21, 22, 23, null, null]
```

### 遍历数组

**遍历**: 就是把数组中的每个元素从头到尾都访问一次。

最简单的做法是通过 for 循环，遍历数组中的每一项。举例：

```javascript
const arr = [10, 20, 30, 40, 50];

for (let i = 0; i < arr.length; i++) {
    console.log(arr[i]); // 打印出数组中的每一项
}
```

**试试用 while, do... while 进行遍历**

## JS语言中，数组的注意点

> 和其他编程语言相比，JS语言中的数组比较灵活，有许多与众不同的地方。

1. 如果访问数组中不存在的索引时，不会报错，会返回`undefined`。
1. 数组可以存储不同类型数据，其它编程语言中数组只能存储相同类型数据。
1. 数组分配的存储空间不一定是连续的。其它语言数组分配的存储空间是连续的。

JS中的数组采用"哈希映射"的方式分配存储空间，我们可以通过索引找到对应空间。各大浏览器也对数组分配的存储空间进行了优化：如果存储的都是相同类型的数据，则会尽量分配连续的存储空间；如果存储的不是相同的数据类型，则不会分配连续的存储空间。

## 数组的解构赋值

解构赋值是ES6中新增的一种赋值方式。

ES5中，如果想把数组中的元素赋值给其他变量，是这样做的：

```js
const arr = [1, 2, [3,4]];
let a = arr[0]; // 1
let b = arr[1]; // 2
let c = arr[2]; // [3, 4]
```

上面这种写法比较啰嗦。通过ES6中的结构复制，我们可以像下面这样做。

1、数组解构赋值，代码举例：

```js
let [a, b, c] = [1, 2, [3, 4]];
console.log(a); // 1
console.log(b); // 2
console.log(c); // [3, 4]
```

注意点：

（1）等号左边的个数和格式，必须和右边的一模一样，才能完全解构。

（2）当然，左边的个数和右边的个数，可以不一样。

2、默认值。在赋值之前，我们可以给左边的变量指定**默认值**：

```js
let [a, b = 3, c = 4] = [1, 2];
console.log(a); // 1
console.log(b); // 2。默认值被覆盖。
console.log(c); // 4。继续保持默认值。
```

3、我们可以使用ES6中新增的**扩展运算符**打包剩余的数据。如果使用了扩展运算符, 那么扩展运算符只能写在最后。代码举例：

```js
let [a, ...b] = [1, 2, 3];
console.log(a); // 1
console.log(b); // [2, 3]
```

## 稀疏数组与密集数组

>  这个知识点，简单了解即可。

- 稀疏数组：索引不连续、数组长度大于元素个数的数组，可以简单理解为有 `empty`（有空隙）的数组。

- 密集数组：索引连续、数组长度等于元素个数的数组。

## 数组常用方法

[Array Toturial](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)

### 常见

| 方法                             | 描述                                             | 备注             |
| :------------------------------- | :----------------------------------------------- | :--------------- |
| Array.isArray()                  | 判断是否为数组                                   |                  |
| toString()                       | 将数组转换为字符串                               | 不会改变原数组   |
| join()                           | 将数组转换为字符串，返回结果为**转换后的字符串** | 不会改变原数组   |
| split()                          | 将字符串按照指定的分隔符，分割为数组             | 不会改变原字符串 |
|                                  |                                                  |                  |
| Array.from(arrayLike)            | 将**伪数组**转化为**真数组**                     |                  |
| Array.of(value1, value2, value3) | 创建数组：将**一系列值**转换成数组               |                  |


### 数组元素的添加和删除

| 方法      | 描述                                                                       | 备注           |
| :-------- | :------------------------------------------------------------------------- | :------------- |
| push()    | 向数组的**最后面**插入一个或多个元素，返回结果为新数组的**长度**           | 会改变原数组   |
| pop()     | 删除数组中的**最后一个**元素，返回结果为**被删除的元素**                   | 会改变原数组   |
| unshift() | 在数组**最前面**插入一个或多个元素，返回结果为新数组的**长度**             | 会改变原数组   |
| shift()   | 删除数组中的**第一个**元素，返回结果为**被删除的元素**                     | 会改变原数组   |
|           |                                                                            |                |
| splice()  | 从数组中**删除**指定的一个或多个元素，返回结果为**被删除元素组成的新数组** | 会改变原数组   |
| slice()   | 从数组中**提取**指定的一个或多个元素，返回结果为**新的数组**               | 不会改变原数组 |
|           |                                                                            |                |
| concat()  | 合并数组：连接两个或多个数组，返回结果为**新的数组**                       | 不会改变原数组 |
| fill()    | 填充数组：用固定的值填充数组，返回结果为**新的数组**                       | 会改变原数组   |

### 数组排序

| 方法      | 描述                                                    | 备注         |
| :-------- | :------------------------------------------------------ | :----------- |
| reverse() | 反转数组，返回结果为**反转后的数组**                    | 会改变原数组 |
| sort()    | 对数组的元素,默认按照**Unicode 编码**，从小到大进行排序 | 会改变原数组 |

### 查找数组的元素

| 方法                  | 描述                                                                           | 备注                                                     |
| :-------------------- | :----------------------------------------------------------------------------- | :------------------------------------------------------- |
| indexOf(value)        | 从前往后索引，检索一个数组中是否含有指定的元素                                 |                                                          |
| lastIndexOf(value)    | 从后往前索引，检索一个数组中是否含有指定的元素                                 |                                                          |
| includes(item)        | 数组中是否包含指定的内容                                                       |                                                          |
| find(function())      | 找出**第一个**满足「指定条件返回 true」的元素                                  |                                                          |
| findIndex(function()) | 找出**第一个**满足「指定条件返回 true」的元素的 index                          |                                                          |
| every()               | 确保数组中的每个元素都满足「指定条件返回 true」，则停止遍历，此方法才返回 true | 全真才为真。要求每一项都返回 true，最终的结果才返回 true |
| some()                | 数组中只要有一个元素满足「指定条件返回 true」，则停止遍历，此方法就返回 true   | 一真即真。只要有一项返回 true，最终的结果就返回 true     |

### 遍历数组

| 方法      | 描述                                                                   | 备注                                                                   |
| :-------- | :--------------------------------------------------------------------- | :--------------------------------------------------------------------- |
| for       | 最传统的方式遍历数组                                                   |                                                                        |
| forEach() | 遍历数组， 老设备有兼容性问题                                          | 不会改变原数组。forEach() 没有返回值。也就是说，它的返回值是 undefined |
| for of    | 遍历数组（ES6语法）                                                    | 不会改变原数组。另外，不要使用 for in 遍历数组                         |
| map()     | 对原数组中的每一项进行加工，将组成新的数组                             | 不会改变原数组                                                         |
| filter()  | 过滤数组：返回结果是 true 的项，将组成新的数组，返回结果为**新的数组** | 不会改变原数组                                                         |
| reduce    | 接收一个函数作为累加器，返回值是回调函数累计处理的结果                 | 比较复杂                                                               |


### 练一练
- 用 reduce 统计数组中某个元素出现的次数。
- 用 reduce 统计数组中所有数字的和。
- 求数组中的最大值。
  1. 用 reduce 实现。
  1. 遍历实现
- 用 map 见数组中每个元素修改为其平方。
- 数组元素去重
  1. 用 splice 实现
  2. 遍历实现。
- 清空数组的实现。（尽可能多的用不同方式）
- 合并两个数组。（尽可能用不同的实现方案）